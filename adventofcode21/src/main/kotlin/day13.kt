fun main() {
    val testData = arrayOf(
        intArrayOf(6, 10),
        intArrayOf(0, 14),
        intArrayOf(9, 10),
        intArrayOf(0, 3),
        intArrayOf(10, 4),
        intArrayOf(4, 11),
        intArrayOf(6, 0),
        intArrayOf(6, 12),
        intArrayOf(4, 1),
        intArrayOf(0, 13),
        intArrayOf(10, 12),
        intArrayOf(3, 4),
        intArrayOf(3, 0),
        intArrayOf(8, 4),
        intArrayOf(1, 10),
        intArrayOf(2, 14),
        intArrayOf(8, 10),
        intArrayOf(9, 0)
    )

    val foldTest = arrayOf(
        "y=7",
        "x=5"
    )

    val realData = arrayOf(
        intArrayOf(381, 143),
        intArrayOf(954, 841),
        intArrayOf(1061, 183),
        intArrayOf(654, 247),
        intArrayOf(30, 192),
        intArrayOf(72, 215),
        intArrayOf(1223, 680),
        intArrayOf(512, 367),
        intArrayOf(150, 747),
        intArrayOf(85, 890),
        intArrayOf(495, 127),
        intArrayOf(714, 710),
        intArrayOf(31, 238),
        intArrayOf(242, 878),
        intArrayOf(1218, 772),
        intArrayOf(862, 654),
        intArrayOf(1190, 710),
        intArrayOf(112, 229),
        intArrayOf(276, 679),
        intArrayOf(1225, 240),
        intArrayOf(1104, 654),
        intArrayOf(1120, 175),
        intArrayOf(266, 690),
        intArrayOf(142, 79),
        intArrayOf(977, 639),
        intArrayOf(626, 203),
        intArrayOf(1134, 147),
        intArrayOf(898, 206),
        intArrayOf(438, 731),
        intArrayOf(75, 800),
        intArrayOf(731, 576),
        intArrayOf(932, 287),
        intArrayOf(283, 236),
        intArrayOf(659, 222),
        intArrayOf(241, 751),
        intArrayOf(682, 182),
        intArrayOf(305, 612),
        intArrayOf(651, 218),
        intArrayOf(152, 491),
        intArrayOf(890, 100),
        intArrayOf(788, 823),
        intArrayOf(1198, 229),
        intArrayOf(842, 189),
        intArrayOf(1283, 789),
        intArrayOf(887, 113),
        intArrayOf(17, 679),
        intArrayOf(92, 122),
        intArrayOf(831, 21),
        intArrayOf(894, 637),
        intArrayOf(803, 52),
        intArrayOf(1235, 36),
        intArrayOf(373, 669),
        intArrayOf(512, 444),
        intArrayOf(864, 376),
        intArrayOf(184, 316),
        intArrayOf(104, 822),
        intArrayOf(303, 340),
        intArrayOf(82, 289),
        intArrayOf(465, 878),
        intArrayOf(890, 794),
        intArrayOf(1041, 29),
        intArrayOf(925, 116),
        intArrayOf(847, 553),
        intArrayOf(905, 330),
        intArrayOf(296, 382),
        intArrayOf(708, 387),
        intArrayOf(1255, 718),
        intArrayOf(530, 669),
        intArrayOf(977, 460),
        intArrayOf(1153, 568),
        intArrayOf(30, 30),
        intArrayOf(350, 740),
        intArrayOf(872, 781),
        intArrayOf(944, 893),
        intArrayOf(1069, 143),
        intArrayOf(438, 427),
        intArrayOf(1222, 425),
        intArrayOf(925, 555),
        intArrayOf(1034, 215),
        intArrayOf(547, 379),
        intArrayOf(1233, 567),
        intArrayOf(982, 373),
        intArrayOf(1054, 754),
        intArrayOf(110, 508),
        intArrayOf(214, 550),
        intArrayOf(291, 505),
        intArrayOf(1036, 163),
        intArrayOf(1089, 834),
        intArrayOf(1223, 214),
        intArrayOf(569, 415),
        intArrayOf(1179, 534),
        intArrayOf(529, 578),
        intArrayOf(206, 654),
        intArrayOf(1082, 551),
        intArrayOf(495, 655),
        intArrayOf(353, 871),
        intArrayOf(528, 838),
        intArrayOf(224, 431),
        intArrayOf(380, 283),
        intArrayOf(455, 505),
        intArrayOf(1168, 130),
        intArrayOf(626, 483),
        intArrayOf(687, 758),
        intArrayOf(3, 672),
        intArrayOf(55, 340),
        intArrayOf(907, 599),
        intArrayOf(124, 369),
        intArrayOf(328, 73),
        intArrayOf(1123, 396),
        intArrayOf(194, 171),
        intArrayOf(903, 892),
        intArrayOf(80, 660),
        intArrayOf(277, 184),
        intArrayOf(1233, 631),
        intArrayOf(736, 821),
        intArrayOf(13, 750),
        intArrayOf(562, 502),
        intArrayOf(1307, 373),
        intArrayOf(447, 65),
        intArrayOf(654, 763),
        intArrayOf(43, 130),
        intArrayOf(781, 578),
        intArrayOf(711, 610),
        intArrayOf(159, 319),
        intArrayOf(323, 890),
        intArrayOf(1164, 679),
        intArrayOf(535, 829),
        intArrayOf(888, 178),
        intArrayOf(1190, 240),
        intArrayOf(110, 59),
        intArrayOf(370, 800),
        intArrayOf(135, 789),
        intArrayOf(1111, 389),
        intArrayOf(27, 789),
        intArrayOf(1283, 229),
        intArrayOf(828, 315),
        intArrayOf(1175, 789),
        intArrayOf(736, 597),
        intArrayOf(857, 578),
        intArrayOf(1151, 486),
        intArrayOf(1236, 693),
        intArrayOf(1218, 271),
        intArrayOf(1087, 444),
        intArrayOf(741, 206),
        intArrayOf(947, 420),
        intArrayOf(803, 207),
        intArrayOf(1178, 7),
        intArrayOf(756, 808),
        intArrayOf(507, 394),
        intArrayOf(1178, 439),
        intArrayOf(550, 126),
        intArrayOf(1233, 782),
        intArrayOf(1218, 392),
        intArrayOf(13, 669),
        intArrayOf(805, 893),
        intArrayOf(1153, 12),
        intArrayOf(58, 236),
        intArrayOf(1094, 337),
        intArrayOf(689, 684),
        intArrayOf(793, 464),
        intArrayOf(176, 747),
        intArrayOf(338, 102),
        intArrayOf(402, 21),
        intArrayOf(1004, 652),
        intArrayOf(1044, 876),
        intArrayOf(1200, 59),
        intArrayOf(900, 458),
        intArrayOf(238, 469),
        intArrayOf(1242, 579),
        intArrayOf(1163, 388),
        intArrayOf(142, 415),
        intArrayOf(574, 682),
        intArrayOf(684, 203),
        intArrayOf(518, 271),
        intArrayOf(359, 126),
        intArrayOf(522, 103),
        intArrayOf(20, 541),
        intArrayOf(1168, 344),
        intArrayOf(756, 86),
        intArrayOf(117, 673),
        intArrayOf(454, 838),
        intArrayOf(763, 379),
        intArrayOf(982, 719),
        intArrayOf(132, 119),
        intArrayOf(202, 416),
        intArrayOf(623, 880),
        intArrayOf(1297, 750),
        intArrayOf(1297, 669),
        intArrayOf(1101, 730),
        intArrayOf(723, 561),
        intArrayOf(1210, 346),
        intArrayOf(579, 576),
        intArrayOf(888, 40),
        intArrayOf(135, 658),
        intArrayOf(589, 599),
        intArrayOf(944, 445),
        intArrayOf(201, 354),
        intArrayOf(1240, 779),
        intArrayOf(175, 626),
        intArrayOf(1005, 612),
        intArrayOf(462, 365),
        intArrayOf(1168, 792),
        intArrayOf(897, 143),
        intArrayOf(395, 687),
        intArrayOf(311, 239),
        intArrayOf(1233, 711),
        intArrayOf(364, 488),
        intArrayOf(266, 876),
        intArrayOf(1225, 767),
        intArrayOf(924, 408),
        intArrayOf(602, 785),
        intArrayOf(492, 323),
        intArrayOf(618, 591),
        intArrayOf(997, 673),
        intArrayOf(728, 763),
        intArrayOf(1168, 450),
        intArrayOf(77, 711),
        intArrayOf(782, 838),
        intArrayOf(820, 312),
        intArrayOf(780, 221),
        intArrayOf(835, 282),
        intArrayOf(682, 600),
        intArrayOf(733, 858),
        intArrayOf(1252, 184),
        intArrayOf(326, 424),
        intArrayOf(403, 599),
        intArrayOf(320, 425),
        intArrayOf(885, 798),
        intArrayOf(693, 876),
        intArrayOf(954, 467),
        intArrayOf(586, 315),
        intArrayOf(127, 540),
        intArrayOf(282, 334),
        intArrayOf(162, 246),
        intArrayOf(58, 122),
        intArrayOf(862, 206),
        intArrayOf(946, 854),
        intArrayOf(582, 315),
        intArrayOf(579, 688),
        intArrayOf(159, 224),
        intArrayOf(1297, 228),
        intArrayOf(691, 551),
        intArrayOf(348, 176),
        intArrayOf(49, 184),
        intArrayOf(904, 430),
        intArrayOf(940, 352),
        intArrayOf(55, 718),
        intArrayOf(525, 98),
        intArrayOf(268, 408),
        intArrayOf(1168, 367),
        intArrayOf(512, 311),
        intArrayOf(1178, 190),
        intArrayOf(704, 54),
        intArrayOf(982, 315),
        intArrayOf(1052, 635),
        intArrayOf(432, 574),
        intArrayOf(940, 542),
        intArrayOf(937, 893),
        intArrayOf(792, 175),
        intArrayOf(405, 241),
        intArrayOf(577, 782),
        intArrayOf(512, 226),
        intArrayOf(313, 673),
        intArrayOf(266, 602),
        intArrayOf(474, 231),
        intArrayOf(885, 730),
        intArrayOf(554, 86),
        intArrayOf(105, 50),
        intArrayOf(594, 689),
        intArrayOf(628, 600),
        intArrayOf(522, 375),
        intArrayOf(140, 408),
        intArrayOf(576, 766),
        intArrayOf(1134, 747),
        intArrayOf(366, 893),
        intArrayOf(1020, 488),
        intArrayOf(1307, 72),
        intArrayOf(878, 320),
        intArrayOf(855, 729),
        intArrayOf(773, 92),
        intArrayOf(298, 871),
        intArrayOf(85, 767),
        intArrayOf(25, 603),
        intArrayOf(862, 10),
        intArrayOf(1282, 19),
        intArrayOf(753, 388),
        intArrayOf(311, 500),
        intArrayOf(185, 108),
        intArrayOf(277, 374),
        intArrayOf(967, 207),
        intArrayOf(699, 289),
        intArrayOf(969, 225),
        intArrayOf(328, 358),
        intArrayOf(80, 297),
        intArrayOf(733, 782),
        intArrayOf(669, 666),
        intArrayOf(815, 127),
        intArrayOf(1049, 599),
        intArrayOf(1206, 822),
        intArrayOf(1280, 330),
        intArrayOf(1285, 695),
        intArrayOf(231, 409),
        intArrayOf(925, 778),
        intArrayOf(3, 879),
        intArrayOf(726, 660),
        intArrayOf(146, 679),
        intArrayOf(651, 73),
        intArrayOf(387, 551),
        intArrayOf(52, 11),
        intArrayOf(120, 436),
        intArrayOf(1141, 528),
        intArrayOf(1046, 429),
        intArrayOf(95, 561),
        intArrayOf(28, 691),
        intArrayOf(549, 60),
        intArrayOf(21, 612),
        intArrayOf(744, 201),
        intArrayOf(408, 361),
        intArrayOf(304, 826),
        intArrayOf(75, 878),
        intArrayOf(1039, 4),
        intArrayOf(897, 222),
        intArrayOf(1235, 654),
        intArrayOf(915, 207),
        intArrayOf(1260, 663),
        intArrayOf(387, 343),
        intArrayOf(77, 40),
        intArrayOf(542, 229),
        intArrayOf(1119, 117),
        intArrayOf(684, 427),
        intArrayOf(924, 684),
        intArrayOf(788, 375),
        intArrayOf(651, 676),
        intArrayOf(572, 798),
        intArrayOf(741, 448),
        intArrayOf(616, 100),
        intArrayOf(464, 679),
        intArrayOf(686, 416),
        intArrayOf(132, 551),
        intArrayOf(1094, 557),
        intArrayOf(750, 707),
        intArrayOf(579, 206),
        intArrayOf(97, 718),
        intArrayOf(748, 271),
        intArrayOf(276, 635),
        intArrayOf(651, 374),
        intArrayOf(1022, 557),
        intArrayOf(124, 669),
        intArrayOf(229, 164),
        intArrayOf(758, 207),
        intArrayOf(693, 764),
        intArrayOf(142, 444),
        intArrayOf(92, 772),
        intArrayOf(1210, 824),
        intArrayOf(416, 649),
        intArrayOf(266, 428),
        intArrayOf(956, 712),
        intArrayOf(1124, 714),
        intArrayOf(224, 483),
        intArrayOf(209, 164),
        intArrayOf(1225, 127),
        intArrayOf(1109, 204),
        intArrayOf(420, 516),
        intArrayOf(1086, 154),
        intArrayOf(507, 52),
        intArrayOf(999, 394),
        intArrayOf(969, 669),
        intArrayOf(1168, 479),
        intArrayOf(88, 245),
        intArrayOf(1141, 814),
        intArrayOf(736, 350),
        intArrayOf(1282, 203),
        intArrayOf(792, 600),
        intArrayOf(863, 513),
        intArrayOf(1258, 355),
        intArrayOf(94, 187),
        intArrayOf(880, 411),
        intArrayOf(1062, 16),
        intArrayOf(768, 229),
        intArrayOf(686, 390),
        intArrayOf(894, 245),
        intArrayOf(914, 623),
        intArrayOf(157, 12),
        intArrayOf(52, 387),
        intArrayOf(378, 623),
        intArrayOf(894, 693),
        intArrayOf(1203, 442),
        intArrayOf(94, 35),
        intArrayOf(1218, 563),
        intArrayOf(453, 578),
        intArrayOf(551, 86),
        intArrayOf(659, 521),
        intArrayOf(1072, 705),
        intArrayOf(254, 91),
        intArrayOf(1186, 525),
        intArrayOf(659, 218),
        intArrayOf(627, 789),
        intArrayOf(728, 131),
        intArrayOf(888, 707),
        intArrayOf(656, 22),
        intArrayOf(224, 17),
        intArrayOf(1109, 652),
        intArrayOf(820, 548),
        intArrayOf(932, 831),
        intArrayOf(679, 219),
        intArrayOf(309, 455),
        intArrayOf(944, 449),
        intArrayOf(1216, 854),
        intArrayOf(1059, 815),
        intArrayOf(962, 176),
        intArrayOf(1068, 16),
        intArrayOf(1069, 751),
        intArrayOf(1260, 792),
        intArrayOf(226, 536),
        intArrayOf(1044, 154),
        intArrayOf(60, 226),
        intArrayOf(946, 406),
        intArrayOf(393, 14),
        intArrayOf(1086, 226),
        intArrayOf(378, 831),
        intArrayOf(890, 516),
        intArrayOf(431, 444),
        intArrayOf(853, 868),
        intArrayOf(401, 887),
        intArrayOf(631, 675),
        intArrayOf(617, 802),
        intArrayOf(194, 723),
        intArrayOf(542, 217),
        intArrayOf(813, 882),
        intArrayOf(1275, 119),
        intArrayOf(1232, 318),
        intArrayOf(1034, 565),
        intArrayOf(753, 718),
        intArrayOf(932, 259),
        intArrayOf(1242, 271),
        intArrayOf(268, 184),
        intArrayOf(460, 275),
        intArrayOf(167, 94),
        intArrayOf(1178, 847),
        intArrayOf(599, 340),
        intArrayOf(623, 758),
        intArrayOf(1151, 821),
        intArrayOf(377, 798),
        intArrayOf(1068, 878),
        intArrayOf(258, 635),
        intArrayOf(1034, 550),
        intArrayOf(462, 81),
        intArrayOf(604, 439),
        intArrayOf(1251, 343),
        intArrayOf(731, 688),
        intArrayOf(376, 632),
        intArrayOf(1181, 882),
        intArrayOf(1125, 786),
        intArrayOf(999, 500),
        intArrayOf(364, 504),
        intArrayOf(50, 834),
        intArrayOf(621, 684),
        intArrayOf(396, 44),
        intArrayOf(1245, 151),
        intArrayOf(1161, 414),
        intArrayOf(1021, 466),
        intArrayOf(1088, 822),
        intArrayOf(184, 652),
        intArrayOf(334, 425),
        intArrayOf(266, 204),
        intArrayOf(758, 707),
        intArrayOf(535, 381),
        intArrayOf(464, 623),
        intArrayOf(43, 289),
        intArrayOf(224, 226),
        intArrayOf(175, 873),
        intArrayOf(416, 245),
        intArrayOf(628, 712),
        intArrayOf(1237, 455),
        intArrayOf(1272, 150),
        intArrayOf(1126, 653),
        intArrayOf(1012, 759),
        intArrayOf(68, 271),
        intArrayOf(715, 343),
        intArrayOf(350, 154),
        intArrayOf(1235, 800),
        intArrayOf(1250, 226),
        intArrayOf(244, 10),
        intArrayOf(944, 1),
        intArrayOf(629, 654),
        intArrayOf(157, 326),
        intArrayOf(1001, 7),
        intArrayOf(388, 674),
        intArrayOf(589, 606),
        intArrayOf(922, 292),
        intArrayOf(517, 430),
        intArrayOf(733, 205),
        intArrayOf(410, 605),
        intArrayOf(1280, 504),
        intArrayOf(184, 653),
        intArrayOf(1015, 598),
        intArrayOf(238, 189),
        intArrayOf(659, 676),
        intArrayOf(1193, 673),
        intArrayOf(748, 772),
        intArrayOf(905, 564),
        intArrayOf(907, 634),
        intArrayOf(377, 350),
        intArrayOf(572, 884),
        intArrayOf(582, 131),
        intArrayOf(626, 243),
        intArrayOf(1034, 679),
        intArrayOf(798, 31),
        intArrayOf(120, 240),
        intArrayOf(28, 243),
        intArrayOf(478, 147),
        intArrayOf(284, 38),
        intArrayOf(654, 647),
        intArrayOf(792, 719),
        intArrayOf(492, 312),
        intArrayOf(189, 654),
        intArrayOf(74, 873),
        intArrayOf(708, 539),
        intArrayOf(249, 183),
        intArrayOf(602, 539),
        intArrayOf(537, 506),
        intArrayOf(628, 47),
        intArrayOf(651, 521),
        intArrayOf(296, 512),
        intArrayOf(624, 116),
        intArrayOf(604, 565),
        intArrayOf(890, 563),
        intArrayOf(1260, 455),
        intArrayOf(785, 658),
        intArrayOf(756, 346),
        intArrayOf(574, 43),
        intArrayOf(249, 653),
        intArrayOf(1238, 763),
        intArrayOf(522, 280),
        intArrayOf(569, 240),
        intArrayOf(1213, 611),
        intArrayOf(487, 710),
        intArrayOf(200, 751),
        intArrayOf(1280, 414),
        intArrayOf(729, 215),
        intArrayOf(616, 673),
        intArrayOf(403, 260),
        intArrayOf(228, 551),
        intArrayOf(820, 582),
        intArrayOf(584, 115),
        intArrayOf(432, 434),
        intArrayOf(900, 10),
        intArrayOf(1160, 747),
        intArrayOf(888, 803),
        intArrayOf(815, 575),
        intArrayOf(624, 390),
        intArrayOf(1026, 542),
        intArrayOf(1260, 887),
        intArrayOf(1205, 834),
        intArrayOf(410, 458),
        intArrayOf(1020, 87),
        intArrayOf(780, 413),
        intArrayOf(850, 275),
        intArrayOf(1009, 240),
        intArrayOf(721, 295),
        intArrayOf(1272, 744),
        intArrayOf(569, 448),
        intArrayOf(846, 719),
        intArrayOf(706, 792),
        intArrayOf(1007, 554),
        intArrayOf(676, 886),
        intArrayOf(586, 719),
        intArrayOf(1190, 688),
        intArrayOf(452, 520),
        intArrayOf(200, 56),
        intArrayOf(1190, 206),
        intArrayOf(738, 884),
        intArrayOf(267, 103),
        intArrayOf(28, 701),
        intArrayOf(626, 53),
        intArrayOf(629, 603),
        intArrayOf(88, 425),
        intArrayOf(842, 856),
        intArrayOf(1294, 455),
        intArrayOf(602, 508),
        intArrayOf(1059, 257),
        intArrayOf(460, 495),
        intArrayOf(492, 771),
        intArrayOf(1183, 354),
        intArrayOf(1255, 340),
        intArrayOf(142, 527),
        intArrayOf(1210, 808),
        intArrayOf(716, 689),
        intArrayOf(301, 240),
        intArrayOf(944, 72),
        intArrayOf(264, 518),
        intArrayOf(422, 406),
        intArrayOf(910, 803),
        intArrayOf(979, 442),
        intArrayOf(544, 387),
        intArrayOf(400, 215),
        intArrayOf(616, 744),
        intArrayOf(222, 822),
        intArrayOf(805, 1),
        intArrayOf(13, 144),
        intArrayOf(897, 560),
        intArrayOf(309, 7),
        intArrayOf(753, 631),
        intArrayOf(604, 117),
        intArrayOf(872, 427),
        intArrayOf(681, 647),
        intArrayOf(1235, 240),
        intArrayOf(1061, 856),
        intArrayOf(1190, 654),
        intArrayOf(766, 387),
        intArrayOf(35, 801),
        intArrayOf(378, 287),
        intArrayOf(879, 198),
        intArrayOf(569, 206),
        intArrayOf(490, 312),
        intArrayOf(1168, 764),
        intArrayOf(730, 21),
        intArrayOf(551, 24),
        intArrayOf(599, 610),
        intArrayOf(512, 653),
        intArrayOf(366, 449),
        intArrayOf(88, 201),
        intArrayOf(92, 271),
        intArrayOf(865, 730),
        intArrayOf(632, 740),
        intArrayOf(631, 219),
        intArrayOf(1240, 115),
        intArrayOf(1123, 274),
        intArrayOf(328, 373),
        intArrayOf(574, 821),
        intArrayOf(678, 740),
        intArrayOf(1242, 626),
        intArrayOf(1235, 438),
        intArrayOf(612, 352),
        intArrayOf(679, 610),
        intArrayOf(959, 554),
        intArrayOf(813, 80),
        intArrayOf(721, 158),
        intArrayOf(448, 10),
        intArrayOf(1252, 658),
        intArrayOf(433, 589),
        intArrayOf(185, 786),
        intArrayOf(1245, 599),
        intArrayOf(880, 292),
        intArrayOf(28, 483),
        intArrayOf(301, 871),
        intArrayOf(167, 224),
        intArrayOf(903, 450),
        intArrayOf(651, 452),
        intArrayOf(416, 201),
        intArrayOf(1022, 374),
        intArrayOf(562, 54),
        intArrayOf(1170, 408),
        intArrayOf(281, 225),
        intArrayOf(410, 10),
        intArrayOf(1141, 12),
        intArrayOf(884, 551),
        intArrayOf(1043, 343),
        intArrayOf(510, 603),
        intArrayOf(519, 236),
        intArrayOf(887, 857),
        intArrayOf(1143, 74),
        intArrayOf(132, 774),
        intArrayOf(550, 296),
        intArrayOf(724, 315),
        intArrayOf(1143, 261),
        intArrayOf(378, 719),
        intArrayOf(1175, 236),
        intArrayOf(788, 519),
        intArrayOf(1124, 705),
        intArrayOf(139, 172),
        intArrayOf(413, 591),
        intArrayOf(242, 16),
        intArrayOf(341, 669),
        intArrayOf(706, 264),
        intArrayOf(594, 241),
        intArrayOf(3, 224),
        intArrayOf(773, 221),
        intArrayOf(879, 444),
        intArrayOf(291, 474),
        intArrayOf(271, 4),
        intArrayOf(378, 679),
        intArrayOf(1089, 813),
        intArrayOf(522, 775),
        intArrayOf(1179, 360),
        intArrayOf(965, 215),
        intArrayOf(855, 876),
        intArrayOf(855, 781),
        intArrayOf(624, 778),
        intArrayOf(847, 341),
        intArrayOf(1185, 802),
        intArrayOf(328, 821),
        intArrayOf(877, 81),
        intArrayOf(186, 180),
        intArrayOf(1284, 623),
        intArrayOf(676, 606),
        intArrayOf(562, 772),
        intArrayOf(1022, 337),
        intArrayOf(30, 116),
        intArrayOf(216, 337),
        intArrayOf(749, 362),
        intArrayOf(847, 777),
        intArrayOf(363, 57),
        intArrayOf(900, 829),
        intArrayOf(984, 521),
        intArrayOf(949, 658),
        intArrayOf(74, 469),
        intArrayOf(463, 553),
        intArrayOf(791, 105),
        intArrayOf(125, 802),
        intArrayOf(331, 390),
        intArrayOf(1232, 128),
        intArrayOf(848, 365),
        intArrayOf(907, 260),
        intArrayOf(478, 595),
        intArrayOf(321, 367),
        intArrayOf(1109, 578),
        intArrayOf(999, 655),
        intArrayOf(201, 242),
        intArrayOf(1072, 649),
        intArrayOf(865, 388),
        intArrayOf(1094, 163),
        intArrayOf(1241, 828),
        intArrayOf(187, 274),
        intArrayOf(366, 520),
        intArrayOf(569, 446),
        intArrayOf(94, 488),
        intArrayOf(652, 184),
        intArrayOf(425, 730),
        intArrayOf(26, 600),
        intArrayOf(828, 579),
        intArrayOf(502, 403),
        intArrayOf(463, 117),
        intArrayOf(447, 513),
        intArrayOf(633, 658),
        intArrayOf(932, 271),
        intArrayOf(425, 544),
        intArrayOf(298, 471),
        intArrayOf(634, 456),
        intArrayOf(788, 614),
        intArrayOf(700, 560),
        intArrayOf(1213, 487),
        intArrayOf(741, 672),
        intArrayOf(200, 838),
        intArrayOf(509, 455),
        intArrayOf(782, 751),
        intArrayOf(264, 205),
        intArrayOf(33, 348),
        intArrayOf(1307, 879),
        intArrayOf(525, 546),
        intArrayOf(348, 718),
        intArrayOf(845, 878),
        intArrayOf(1268, 682),
        intArrayOf(313, 221),
        intArrayOf(1042, 408),
        intArrayOf(479, 21),
        intArrayOf(687, 14),
        intArrayOf(587, 561),
        intArrayOf(984, 175),
        intArrayOf(1238, 679),
        intArrayOf(623, 14),
        intArrayOf(937, 449),
        intArrayOf(760, 126),
        intArrayOf(979, 890),
        intArrayOf(28, 53),
        intArrayOf(321, 460),
        intArrayOf(862, 884),
        intArrayOf(1026, 38),
        intArrayOf(441, 856),
        intArrayOf(72, 679),
        intArrayOf(606, 840),
        intArrayOf(592, 429),
        intArrayOf(986, 262),
        intArrayOf(223, 696),
        intArrayOf(472, 155),
        intArrayOf(577, 406),
        intArrayOf(422, 854),
        intArrayOf(882, 360),
        intArrayOf(750, 488),
        intArrayOf(572, 515),
        intArrayOf(1135, 268),
        intArrayOf(604, 663),
        intArrayOf(888, 406),
        intArrayOf(773, 506),
        intArrayOf(567, 886),
        intArrayOf(1184, 591),
        intArrayOf(480, 43),
        intArrayOf(1131, 164),
        intArrayOf(724, 402),
        intArrayOf(512, 578),
        intArrayOf(201, 204),
        intArrayOf(1289, 684),
        intArrayOf(455, 876),
        intArrayOf(1136, 851),
        intArrayOf(52, 81),
        intArrayOf(1044, 204),
        intArrayOf(589, 295),
        intArrayOf(741, 890),
        intArrayOf(1072, 469),
        intArrayOf(341, 225),
        intArrayOf(1089, 60),
        intArrayOf(572, 96),
        intArrayOf(1260, 24),
        intArrayOf(1307, 676),
        intArrayOf(1034, 774),
        intArrayOf(721, 151),
        intArrayOf(681, 240),
        intArrayOf(1004, 204),
        intArrayOf(880, 877),
        intArrayOf(1076, 383),
        intArrayOf(363, 420),
        intArrayOf(396, 623),
        intArrayOf(706, 117),
        intArrayOf(378, 215),
        intArrayOf(1215, 857),
        intArrayOf(1236, 469),
        intArrayOf(1007, 667),
        intArrayOf(232, 707),
        intArrayOf(1289, 282),
        intArrayOf(167, 74),
        intArrayOf(651, 222),
        intArrayOf(831, 873),
        intArrayOf(497, 814),
        intArrayOf(773, 388),
        intArrayOf(85, 127),
        intArrayOf(629, 647),
        intArrayOf(1006, 68),
        intArrayOf(736, 544),
        intArrayOf(1109, 354),
        intArrayOf(1063, 444),
        intArrayOf(522, 614),
        intArrayOf(512, 792),
        intArrayOf(818, 373),
        intArrayOf(487, 185),
        intArrayOf(589, 151),
        intArrayOf(415, 662),
        intArrayOf(514, 714),
        intArrayOf(1078, 707),
        intArrayOf(1242, 763),
        intArrayOf(806, 299),
        intArrayOf(1079, 409),
        intArrayOf(954, 759),
        intArrayOf(1205, 844),
        intArrayOf(52, 59),
        intArrayOf(569, 672),
        intArrayOf(741, 479),
        intArrayOf(939, 829),
        intArrayOf(455, 389),
        intArrayOf(1051, 207),
        intArrayOf(182, 603),
        intArrayOf(1273, 130),
        intArrayOf(813, 814),
        intArrayOf(858, 30),
        intArrayOf(234, 63),
        intArrayOf(1218, 740),
        intArrayOf(110, 835),
        intArrayOf(1274, 303),
        intArrayOf(915, 687),
        intArrayOf(679, 284),
        intArrayOf(729, 7),
        intArrayOf(1210, 70),
        intArrayOf(1151, 408),
        intArrayOf(580, 21),
        intArrayOf(856, 751),
        intArrayOf(933, 350),
        intArrayOf(711, 564),
        intArrayOf(580, 873),
        intArrayOf(748, 47),
        intArrayOf(1044, 690),
        intArrayOf(587, 225),
        intArrayOf(602, 109),
        intArrayOf(490, 582),
        intArrayOf(356, 759),
        intArrayOf(328, 536),
        intArrayOf(649, 316),
        intArrayOf(977, 367),
        intArrayOf(745, 663),
        intArrayOf(987, 890),
        intArrayOf(517, 16),
        intArrayOf(1252, 236),
        intArrayOf(446, 376),
        intArrayOf(73, 679),
        intArrayOf(708, 508),
        intArrayOf(1148, 694),
        intArrayOf(1307, 749),
        intArrayOf(1053, 66),
        intArrayOf(288, 333),
        intArrayOf(197, 236),
        intArrayOf(984, 73),
        intArrayOf(221, 50),
        intArrayOf(258, 259),
        intArrayOf(62, 824),
        intArrayOf(1061, 815),
        intArrayOf(1171, 620),
        intArrayOf(801, 455),
        intArrayOf(364, 303),
        intArrayOf(1210, 86),
        intArrayOf(431, 198),
        intArrayOf(561, 532),
        intArrayOf(358, 512),
        intArrayOf(1166, 739),
        intArrayOf(1216, 488),
        intArrayOf(793, 16),
        intArrayOf(706, 663),
        intArrayOf(447, 829),
        intArrayOf(922, 220),
        intArrayOf(422, 259),
        intArrayOf(1217, 532),
        intArrayOf(1228, 379),
        intArrayOf(400, 803),
        intArrayOf(708, 507),
        intArrayOf(80, 682),
        intArrayOf(962, 877),
        intArrayOf(787, 744),
        intArrayOf(162, 694),
        intArrayOf(733, 112),
        intArrayOf(628, 182),
        intArrayOf(1233, 183),
        intArrayOf(1158, 491),
        intArrayOf(16, 455),
        intArrayOf(1233, 260),
        intArrayOf(135, 236),
        intArrayOf(385, 865),
        intArrayOf(705, 262),
        intArrayOf(863, 65),
        intArrayOf(783, 540),
        intArrayOf(1228, 96),
        intArrayOf(303, 284),
        intArrayOf(581, 887),
        intArrayOf(77, 634),
        intArrayOf(962, 718),
        intArrayOf(552, 207),
        intArrayOf(15, 599),
        intArrayOf(1066, 458),
        intArrayOf(1222, 469),
        intArrayOf(594, 242),
        intArrayOf(97, 487),
        intArrayOf(100, 86),
        intArrayOf(798, 241),
        intArrayOf(879, 450),
        intArrayOf(515, 274),
        intArrayOf(780, 669),
        intArrayOf(80, 73),
        intArrayOf(1178, 551),
        intArrayOf(1022, 333),
        intArrayOf(1206, 434),
        intArrayOf(159, 486),
        intArrayOf(251, 260),
        intArrayOf(316, 102),
        intArrayOf(624, 480),
        intArrayOf(1121, 430),
        intArrayOf(445, 730),
        intArrayOf(562, 346),
        intArrayOf(1061, 711),
        intArrayOf(271, 130),
        intArrayOf(452, 374),
        intArrayOf(1170, 486),
        intArrayOf(199, 876),
        intArrayOf(1261, 632),
        intArrayOf(552, 687),
        intArrayOf(888, 259),
        intArrayOf(1001, 679),
        intArrayOf(85, 240),
        intArrayOf(745, 567),
        intArrayOf(74, 201),
        intArrayOf(537, 316),
        intArrayOf(224, 463),
        intArrayOf(261, 295),
        intArrayOf(487, 261),
        intArrayOf(1268, 352),
        intArrayOf(582, 763),
        intArrayOf(946, 591),
        intArrayOf(232, 187),
        intArrayOf(706, 439),
        intArrayOf(1135, 873),
        intArrayOf(144, 739),
        intArrayOf(522, 71),
        intArrayOf(597, 477),
        intArrayOf(693, 802),
        intArrayOf(798, 792),
        intArrayOf(1225, 336),
        intArrayOf(326, 623),
        intArrayOf(1126, 316)
    )

    val foldReal = arrayOf(
        "x=655",
        "y=447",
        "x=327",
        "y=223",
        "x=163",
        "y=111",
        "x=81",
        "y=55",
        "x=40",
        "y=27",
        "y=13",
        "y=6"

    )

//    fold(testData, foldTest)
    fold(realData, foldReal)
}


fun fold(data: Array<IntArray>, folds: Array<String>) {
    var maxX = 0
    var maxY = 0
    data.forEach { line ->
        val x = line[0]
        val y = line[1]
        if (x > maxX)
            maxX = x
        if (y > maxY)
            maxY = y
    }

    var map = Array(maxX + 1) { IntArray(maxY + 1) }
    data.forEach { line ->
        val x = line[0]
        val y = line[1]
        map[x][y] = 1
    }

    folds.forEach { line ->
        val split = line.split("=")
        map = if (split[0] == "x") {
            foldX(map, split[1].toInt())
        } else {
            foldY(map, split[1].toInt())
        }
    }


    printMap(map)
}

fun foldX(map: Array<IntArray>, value: Int): Array<IntArray> {
    val newMap = Array(value) { IntArray(map[0].size) }
    for (x in map.indices) {
        for (y in 0 until map[0].size) {
            if (x >= value) {
                if (map[x][y] == 1) {
                    val i = x - value
                    val i1 = value - i
                    newMap[i1][y] = 1
                }

            } else {
                if (map[x][y] == 1) {
                    newMap[x][y] = 1
                }
            }
        }

    }
    printDotSize(newMap)
    return newMap
}

private fun printDotSize(map: Array<IntArray>) {
    val size = map.sumOf { line ->
        line.sum()
    }
    println(size)
}

fun foldY(map: Array<IntArray>, value: Int): Array<IntArray> {
    val newMap = Array(map.size) { IntArray(value) }
    for (x in map.indices) {
        for (y in 0 until map[0].size) {
            if (y >= value) {
                if (map[x][y] == 1) {
                    val i = y - value
                    val i1 = value - i
                    newMap[x][i1] = 1
                }

            } else {
                if (map[x][y] == 1) {
                    newMap[x][y] = 1
                }
            }
        }

    }
    printDotSize(newMap)
    return newMap
}

private fun printMap(map: Array<IntArray>) {
    for (y in 0 until map[0].size) {
        for (element in map) {

            if (element[y] == 0)
                print(".")
            else
                print("#")
        }
        println()
    }
}